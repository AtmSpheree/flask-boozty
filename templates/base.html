<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <link id="dark-theme-style" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="../static/css/style.css" />
    <title>{{title}}</title>
    <link rel="icon" type="image/x-icon" href="/static/img/favicon.png" />
    <script type="application/json" id="stuff">
      {{json_file_variables}}
    </script>
  </head>
  <body>
    <script type="text/javascript" src="static/scripts/path.js"></script>
    <script type="text/javascript" src="static/scripts/tools.js"></script>
    <header>
      <nav class="navbar navbar-light bg-light bg-gradient">
        <a href="/" style="text-decoration: none">
          <h2 class="navbar-brand fs-1 text-center" style="margin-left: 1em">
            Boozty
          </h2>
        </a>
        <div class="d-flex flex-row snavbar-nav" role="group">
          {% if current_user.is_authenticated %} {% if current_user.avatar != ""
          %}
          <a href="/user/{{current_user.id}}" class="me-3">
            <img
              class="avatar_mini rounded-circle img-fluid"
              src="{{avatar_path}}"
            />
          </a>
          {% else %}
          <a href="/user/{{current_user.id}}" class="me-3">
            <img
              class="avatar_mini rounded-circle img-fluid"
              src="\static\img\standart_avatar.png"
            />
          </a>
          {% endif %}
          <a
            class="navbar-brand fs-3 text-center"
            href="/user/{{current_user.id}}"
            >{{ current_user.nickname }}</a
          >
          <a type="button" class="btn btn-danger me-3 btn-lg" href="/logout">
            Logout
          </a>
          {% else %}
          <a type="button" class="btn btn-primary me-3 btn-lg" href="/register">
            Register
          </a>
          <a type="button" class="btn btn-primary me-3 btn-lg" href="/login">
            Login
          </a>
          {% endif %}
          <div class="btn-group main_page_nav_buttons_group" role="group">
            <button
              type="button"
              class="btn btn-lg btn-dark github_button"
              id="github-button"
              onClick="window.open('https://github.com/AtmSpheree/flask-boozty');"
            >
              <img id="github-logo" style="height: 100%" />
              <img id="github-text" style="height: 100%" />
            </button>
            <button
              type="button"
              href="javascript:void()"
              id="theme-toggler"
              onclick="toggleTheme()"
            ></button>
          </div>
        </div>
      </nav>
    </header>
    <main role="main">
      <input
        id="current_user_email"
        type="hidden"
        {%
        if
        current_user.is_authenticated
        %}
        value="{{current_user.email}}"
        {%
        else
        %}
        value=""
        {%
        endif
        %}
      />
      {% block content %}{% endblock %}
    </main>
    <footer
      class="d-flex justify-content-center align-items-center bg-dark mt-5"
    >
      <h1 class="text-white">Written on the Python Flask</h1>
    </footer>
    <script type="text/javascript" src="static/scripts/base.js"></script>
  </body>
</html>
